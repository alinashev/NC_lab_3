<html>
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="styleHomePage.css">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styleSearchTicket.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">

    <title>Home</title>
</head>
<body>
    <header>
        <div class = "header__logo">
            <p>BUG TRACKER</p>
        </div>
        <nav>
            <div class="topnav" id="myTopnav">
                <a id="createTicket" class="createTicket" href="/createTicket">CREATE TICKET</a>
                <a href="homePage">HOME</a>
                <a href="projects">PROJECTS</a>
                <a href="search">SEARCH</a>

                <a href="#" id="menu" class = "icon"> &#9776 </a>
            </div>
        </nav>
    </header>
    <main>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script type="text/javascript">
            $(document).ready(function() {
                $('button').click(function() {
                    console.log("Executed")
                    $.ajax({
                        type : 'GET',
                        headers : {
                            Accept : "application/json; charset=utf-8",
                            "Content-Type" : "application/json; charset=utf-8"
                        },
                        url : '/searchTicketByName',
                        data: {
                            "value": document.getElementById('name').value
                        },
                        success : function (responseText) {
                            console.log(responseText)
                            $("#ticketName").text(responseText["name"]);
                            $("#projectId").text(responseText["projectId"]);
                            $("#author").text(responseText["author"]);
                            $("#openURL").attr('href',"/ticket/" + responseText["ticketId"]);
                        }
                    });
                });
            });
        </script>
        <div class="table">
                <button type="button">Search
                </button>
                <input type="search" id="name">
                <i class="fa fa-search"></i>
            <center>


            <p>
                <span>Name: </span>
                <span id="ticketName"></span>
            </p>
            <p>
                <span>Project id: </span>
                <span id="projectId"></span>
            </p>
            <p>
                <span>Author: </span>
                <span id="author"></span>
            </p>
            <p>
                <a id="openURL">Open</a>
            </p>
            </center>
        </div>
        
    </main>
</body>
<script src="scriptHomePage.js"> </script>
</html>